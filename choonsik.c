//ì¶˜ì‹ì´ í‚¤ìš°ê¸° ê°œë°œ í˜ì´ì§€

#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <unistd.h>
void Print(int arr[][25], int size, int i, int j) //ì¶˜ì‹ì´ ë°©& ë°© ì•ˆì— ì¶˜ì‹ì´ êµ¬í˜„ í•¨ìˆ˜
{
    for(int i=0; i<25; i++)
    {
        for(int j=0; j<25; j++)
        {
            if(arr[i][j] == 1)
            {
                printf("ğŸ¥ ");
            }
            if(arr[i][j] == 0)
            {
                printf("   ");
            }
            if(arr[i][j] == 2)
            {
                printf("ğŸ˜¾ ");
            }
        }
        printf("\n");
    }
}
void Move(int arr[][25], int size, double weight, int* x, int* y) // ì¶˜ì‹ì´ ëŒì•„ë‹¤ë‹ˆëŠ” í•¨ìˆ˜
{
    int i = rand()%19+1;
    int j = rand()%19+1;
    if(weight<15)
    {
        arr[*x][*y] = 0;
        arr[*x][(*y+1)] = 0;
        arr[(*x+1)][*y] = 0;
        arr[(*x+1)][(*y+1)] = 0;
    
        *x=i;
        *y=j;
        arr[*x][*y] = 2;
    }
    else if(weight>=15&&weight<50)
    {
        arr[*x][*y] = 0;
        arr[*x][(*y+1)] = 0;
        arr[(*x+1)][*y] = 0;
        arr[(*x+1)][(*y+1)] = 0;

        *x=i;
        *y=j;
        arr[*x][*y] = 2;
        arr[*x][(*y+1)] = 2;
    }
    else if(weight>=50&&weight<80)
    {
        arr[*x][*y] = 0;
        arr[*x][(*y+1)] = 0;
        arr[(*x+1)][*y] = 0;
        arr[(*x+1)][(*y+1)] = 0;
    
        *x=i;
        *y=j;
        arr[*x][*y] = 2;
        arr[*x][(*y+1)] = 2;
        arr[(*x+1)][*y] = 2;
        arr[(*x+1)][(*y+1)] = 2;
    }
    else if(weight>=80&&weight<=100)
    {
        arr[*x][*y] = 0;
        arr[*x][(*y+1)] = 0;
        arr[*x][(*y+2)] = 0;
        arr[(*x+1)][*y] = 0;
        arr[(*x+2)][*y] = 0;
        arr[(*x+1)][(*y+1)] = 0;
        arr[(*x+1)][(*y+2)] = 0;
        arr[(*x+2)][(*y+1)] = 0;
        arr[(*x+2)][(*y+2)] = 0;
    
        *x=i;
        *y=j;
        arr[*x][*y] = 2;
        arr[*x][(*y+1)] = 2;
        arr[*x][(*y+2)] = 2;
        arr[(*x+1)][*y] = 2;
        arr[(*x+2)][*y] = 2;
        arr[(*x+1)][(*y+1)] = 2;
        arr[(*x+1)][(*y+2)] = 2;
        arr[(*x+2)][(*y+1)] = 2;
        arr[(*x+2)][(*y+2)] = 2;
    }
}

int main(void)
{
    srand((unsigned int)time(NULL));
    double weight=10; // ëª¸ë¬´ê²Œ
    double love=0; // ì• ì •ë„
    int count=0; // í„´ íšŸìˆ˜ ì„¸ê¸°
    int i, j, x=12, y=12;

    //ë°°ì—´ë¡œ ì¶˜ì‹ì´ ë°© êµ¬í˜„
    int arr[25][25]={
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
    };

    while(weight<100)
    {
        system("clear");
        Print(arr,25,i,j);
        Move(arr,25,weight, &x,&y);
        printf("%dí„´ì§¸ : ëª¸ë¬´ê²ŒğŸ½ %f, ì• ì •ë„ğŸ’• %f \n", count, weight, love);
        sleep(2);
        love=love+5;
        weight=weight+0.5;
        count++;
        if(count>1)
        {
            if(rand()%2 == 0) // ë°¥ë¨¹ìœ¼ë©´ 50%ì˜ í™•ë¥ ë¡œ ë˜¥ì„ ìŒˆ(ëª¸ë¬´ê²Œ -0.2kg)
            {
                weight-=0.2;
            }
            if(rand()%10 == 0) // 10% í™•ë¥ ë¡œ ë³‘ì— ê±¸ë¦¼
            {
                system("clear");
                Print(arr,25,i,j);
                Move(arr,25,weight,&x,&y);
                printf("%dí„´ì§¸ : ëª¸ë¬´ê²ŒğŸ½ %f, ì• ì •ë„ğŸ’• %f \n", count, weight, love);
                printf("ì¶˜ì‹œê¸°ê°€ ë³‘ì— ê±¸ë ¸ìŠµë‹ˆë‹¤ğŸ¤• \n");
                sleep(2);
                while(1) // ë³‘ì— ê±¸ë¦¬ë©´ ë„ëŠ” whileë¬¸
                {
                    system("clear");
                    Print(arr,25,i,j);
                    Move(arr,25,weight,&x,&y);
                    love=love+5;
                    weight -=0.5;
                    double recovery = rand()%100;
                    printf("%dí„´ì§¸ : ëª¸ë¬´ê²ŒğŸ½ %f, ì• ì •ë„ğŸ’• %f \n", count, weight, love); // ë³‘ì— ê±¸ë¦¬ê³  ì™„ì¹˜ ë˜ê¸° ì „
                    printf("í˜„ì¬ ë³‘ì— ê±¸ë¦° ìƒíƒœğŸ¥² \n");
                    sleep(2);
                    if(recovery<love*0.1) // ë³‘ ê±¸ë¦° ì¶˜ì‹ì´ê°€ íšŒë³µ
                    {
                        system("clear");
                        Print(arr,25,i,j);
                        Move(arr,25,weight,&x,&y);
                        love=love+5;
                        count++;
                        printf("%dí„´ì§¸ : ëª¸ë¬´ê²ŒğŸ½ %f, ì• ì •ë„ğŸ’• %f \n", count, weight, love);
                        printf("ì™„ì¹˜ğŸ˜» \n");
                        weight=weight+0.5;
                        sleep(2);
                        break;
                    }
                    if(rand()%20 == 0) // 20% í™•ë¥ ë¡œ ì¶˜ì‹ì´ê°€ ì£½ìŒ
                    {
                        system("clear");
                        Print(arr,25,i,j);
                        Move(arr,25,weight,&x,&y);
                        count++;
                        printf("%dí„´ì§¸ : ëª¸ë¬´ê²ŒğŸ½ %f, ì• ì •ë„ğŸ’• %f \n", count, weight, love);
                        printf("ì¶˜ì‹œê¸° ì¥¬ê¸ˆğŸ«¥ \n");
                        sleep(2);
                        return 0;
                    }
                }
                count++;
                continue;
            }
        }
    }
    if(weight>=100) // ì¶˜ì‹ì´ê°€ 100kgì´ ë¨
    {
        printf("ê±°ëŒ€ ì¶˜ì‹(ì´)ê°€ ë˜ì—ˆë‹¤ğŸ‘»");
    }
}
